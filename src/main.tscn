[gd_scene load_steps=9 format=3 uid="uid://c4x78xdv4cpx4"]

[ext_resource type="PackedScene" uid="uid://cpq3bvvv5605v" path="res://monsters/monster_base.tscn" id="1_0xm2m"]
[ext_resource type="PackedScene" uid="uid://2dpaau0tgd4s" path="res://player/ui/player_hud.tscn" id="1_272bh"]
[ext_resource type="PackedScene" uid="uid://c51kjclr1a0mq" path="res://monsters/monster_line.tscn" id="2_h2yge"]
[ext_resource type="Script" uid="uid://b65182a2jjw81" path="res://monsters/drag_and_drop_3d.gd" id="3_h2yge"]
[ext_resource type="PackedScene" uid="uid://dpn34cacjhahy" path="res://locations/proto_location.tscn" id="4_7mycd"]
[ext_resource type="Script" uid="uid://d3kcr1y2o7ue" path="res://gameloop/game.gd" id="4_lquwl"]
[ext_resource type="Script" uid="uid://dtc6b60kuy673" path="res://gameloop/battle/battle.gd" id="5_7mycd"]

[sub_resource type="Environment" id="Environment_272bh"]
ambient_light_source = 1
fog_mode = 1
fog_light_color = Color(0.8980392, 0.41960785, 0.43529412, 1)
fog_density = 1.0
fog_height = -0.1
fog_height_density = 2.0
fog_depth_curve = 15.454974
fog_depth_begin = 0.0
fog_depth_end = 20.0

[node name="Main" type="Node"]

[node name="Player HUD" parent="." instance=ExtResource("1_272bh")]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_272bh")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.9438529, 0.3228734, -0.06996109, 0, 0.21176836, 0.9773199, 0.33036616, -0.9224462, 0.19987816, 4.772633, 0, -11.328466)

[node name="World3D" type="Node3D" parent="."]

[node name="Player Monster Line" type="Node3D" parent="World3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 2)
visible = false

[node name="Monster Line" parent="World3D/Player Monster Line" node_paths=PackedStringArray("monsters") instance=ExtResource("2_h2yge")]
monsters = [NodePath("Monster Base")]

[node name="Monster Base" parent="World3D/Player Monster Line/Monster Line" instance=ExtResource("1_0xm2m")]
monster_name = "TEST_PLAYER"

[node name="Camera Point" type="Node3D" parent="World3D/Player Monster Line/Monster Line"]
transform = Transform3D(0.49999997, -0.36599815, 0.7848855, 0, 0.9063077, 0.42261824, -0.86602545, -0.2113091, 0.45315382, 0, 0, -2)

[node name="Camera Length" type="Node3D" parent="World3D/Player Monster Line/Monster Line/Camera Point"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 6)

[node name="Camera3D" type="Camera3D" parent="World3D/Player Monster Line/Monster Line/Camera Point/Camera Length"]
transform = Transform3D(1, 0, 0, 0, 1.0000001, -2.9802322e-08, 0, 0, 1, -2.5484294e-07, 0.09807634, 5.8301277)
projection = 1
size = 16.0

[node name="DragAndDrop3D" type="Node3D" parent="World3D/Player Monster Line"]
script = ExtResource("3_h2yge")
metadata/_custom_type_script = "uid://b65182a2jjw81"

[node name="Proto Location" parent="World3D" instance=ExtResource("4_7mycd")]

[node name="Game" type="Node" parent="." node_paths=PackedStringArray("battle", "world_3d", "player_line", "current_location", "player_hud")]
script = ExtResource("4_lquwl")
battle = NodePath("Battle")
world_3d = NodePath("../World3D")
player_line = NodePath("../World3D/Player Monster Line/Monster Line")
current_location = NodePath("../World3D/Proto Location")
location_template = ExtResource("4_7mycd")
player_hud = NodePath("../Player HUD")
metadata/_custom_type_script = "uid://d3kcr1y2o7ue"

[node name="Battle" type="Node" parent="Game"]
script = ExtResource("5_7mycd")
metadata/_custom_type_script = "uid://dtc6b60kuy673"
